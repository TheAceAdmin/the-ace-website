(()=>{var{useState:h,useRef:O,useEffect:U,useMemo:ee}=React;function te(){let[i,o]=h({applicantTitle:"Mr",applicantName:"",age:"",occupation:"",flatNo:"",block:"",areaSqft:"",buildingName:"The ACE",addressLine:"The ACE, No.1, Corporation Road, Perungudi, Chennai, Tamil Nadu 600096",owners:[{name:"",title:"Mr",age:"",occupation:"",mobile:"",email:"",details:"",location:"",memberInJoint:"Yes",signatureDataUrl:"",canvasSignatureUrl:"",photoUrl:""}],admissionFee:"1000",nominatedOwner:"",place:"",date:new Date().toISOString().slice(0,10),mobile:"",email:"",jointUndertaking:"",typedSignature:"",signatureDataUrl:"",canvasSignatureUrl:""}),[R,P]=h(!1),[A,k]=h(!1),r=O(null),[m,l]=h(""),c=O(null),T=O(!1),C=O({x:0,y:0});function u(e,t){o(a=>{let s={...a,[e]:t};return["block","flatNo","areaSqft"].includes(e)&&(s.owners=s.owners.map(n=>({...n,details:`${s.areaSqft?s.areaSqft+" sq ft":""}${s.block?" \u2022 Block "+s.block:""}`.trim(),location:`${s.block?s.block:""} ${s.flatNo}`.trim()}))),s})}function d(e,t,a){o(s=>{let n=s.owners.slice();return n[e]={...n[e],[t]:a},{...s,owners:n}})}function W(){o(e=>({...e,owners:[...e.owners,{name:"",title:"Mr",age:"",occupation:"",mobile:"",email:"",details:"",location:"",memberInJoint:"Yes",signatureDataUrl:"",canvasSignatureUrl:"",photoUrl:""}]}))}function J(e){o(t=>({...t,owners:t.owners.filter((a,s)=>s!==e)}))}function oe(){o(e=>{let t=e.owners.map(a=>({...a,details:`${e.areaSqft?e.areaSqft+" sq ft":""}${e.block?" \u2022 Block "+e.block:""}`.trim(),location:`${e.block?e.block:""} ${e.flatNo}`.trim()}));return{...e,owners:t}})}function ie(e){let t=e.target.files&&e.target.files[0];if(!t)return;let a=new FileReader;a.onload=s=>{l(s.target.result)},a.readAsDataURL(t)}function Y(){let e="membership-form-auto-save",t=g.findIndex(a=>a.name===e);if(t!==-1){let a=[...g];a[t]={...a[t],data:{...i},lastModified:new Date().toISOString()},v(a),f(a[t].id),localStorage.setItem("aceMembershipForms",JSON.stringify(a))}else{let a={id:Date.now(),name:e,data:{...i},createdAt:new Date().toISOString(),lastModified:new Date().toISOString()},s=[...g,a];v(s),f(a.id),localStorage.setItem("aceMembershipForms",JSON.stringify(s))}try{window.print()}catch(a){console.error("Print function failed:",a),V()}}function V(){let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);alert(e?`
\u{1F4F1} Mobile Device Detected

If the print dialog doesn't open or you can't save as PDF, try these steps:

\u{1F4F1} iOS (iPhone/iPad):
1. Tap the Share button (square with arrow up)
2. Scroll down and tap "Print"
3. In the print preview, tap the share button again
4. Choose "Save to Files" or "Save to Photos"
5. Select location and save

\u{1F916} Android:
1. Tap the three dots menu (\u22EE)
2. Select "Print" or "Share"
3. Choose "Save as PDF" or "Print to PDF"
4. Select save location

\u{1F4A1} Alternative Method:
\u2022 Take a screenshot of the form
\u2022 Use your device's built-in PDF converter
\u2022 Or email the form to yourself and save from email

\u{1F504} Try Again:
\u2022 Refresh the page and try again
\u2022 Or use a different browser (Chrome, Safari, Firefox)
        `:"Print function failed. Please try refreshing the page or use a different browser.")}function _(e){let t=c.current,a=t.getBoundingClientRect(),s=t.width/a.width,n=t.height/a.height,p=e.clientX??(e.touches&&e.touches[0]?.clientX),x=e.clientY??(e.touches&&e.touches[0]?.clientY),N=(p-a.left)*s,w=(x-a.top)*n;return{x:N,y:w}}function L(e){if(!c.current)return;e.preventDefault(),T.current=!0;let t=_(e);C.current=t}function I(e){if(!T.current||!c.current)return;e.preventDefault();let t=c.current.getContext("2d");t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.strokeStyle="#111";let a=_(e);t.beginPath(),t.moveTo(C.current.x,C.current.y),t.lineTo(a.x,a.y),t.stroke(),C.current=a}function M(){if(!c.current)return;T.current=!1;let e=c.current.toDataURL("image/png");u("canvasSignatureUrl",e)}function H(){if(!c.current)return;c.current.getContext("2d").clearRect(0,0,c.current.width,c.current.height),u("canvasSignatureUrl","")}function B(e,t){e.preventDefault();let a=e.target,s=a.getContext("2d");s.lineWidth=2,s.lineCap="round",s.lineJoin="round",s.strokeStyle="#111";let n=a.getBoundingClientRect(),p=a.width/n.width,x=a.height/n.height,N=e.clientX??(e.touches&&e.touches[0]?.clientX),w=e.clientY??(e.touches&&e.touches[0]?.clientY),y=(N-n.left)*p,S=(w-n.top)*x;s.beginPath(),s.moveTo(y,S),a.ownerLastPoint={x:y,y:S}}function j(e,t){let a=e.target;if(!a.ownerLastPoint)return;let s=a.getContext("2d"),n=a.getBoundingClientRect(),p=a.width/n.width,x=a.height/n.height,N=e.clientX??(e.touches&&e.touches[0]?.clientX),w=e.clientY??(e.touches&&e.touches[0]?.clientY),y=(N-n.left)*p,S=(w-n.top)*x;s.lineTo(y,S),s.stroke(),a.ownerLastPoint={x:y,y:S}}function D(e,t){let a=e.target;if(!a.ownerLastPoint)return;let s=a.toDataURL("image/png");d(t,"canvasSignatureUrl",s),a.ownerLastPoint=null}function X(e){let t=document.querySelector(`canvas[data-owner-index="${e}"]`);t&&t.getContext("2d").clearRect(0,0,t.width,t.height),d(e,"canvasSignatureUrl","")}let[ne,z]=h([]),[g,v]=h([]),[q,F]=h(!1),[b,f]=h(null);U(()=>{let e=localStorage.getItem("aceMembershipForms");if(e)try{v(JSON.parse(e))}catch(t){console.error("Error loading saved forms:",t)}},[]);function Q(){console.log("Save form function called"),console.log("Current data:",i);let e=prompt("Enter a name for this form:");if(!e||!e.trim()){console.log("No form name provided, cancelling save");return}console.log("Saving form with name:",e);let t={id:Date.now(),name:e.trim(),data:{...i},createdAt:new Date().toISOString(),lastModified:new Date().toISOString()};console.log("Form data to save:",t);let a=[...g,t];v(a),f(t.id),localStorage.setItem("aceMembershipForms",JSON.stringify(a)),console.log("Form saved successfully")}function G(){if(b){let e=g.map(t=>t.id===b?{...t,data:{...i},lastModified:new Date().toISOString()}:t);v(e),localStorage.setItem("aceMembershipForms",JSON.stringify(e))}}function K(e){let t=g.find(a=>a.id===e);t&&(o({...t.data}),f(e),F(!1))}function Z(e){if(g.find(a=>a.id===e)){let a=g.filter(s=>s.id!==e);v(a),b===e&&f(null),localStorage.setItem("aceMembershipForms",JSON.stringify(a))}}return U(()=>{if(b){let e=setTimeout(G,1e3);return()=>clearTimeout(e)}},[i.owners,i.block,i.flatNo,i.areaSqft,i.nominatedOwner,i.place,i.date]),U(()=>{let e=[];e.push({name:"PDF button exists",pass:!!document.querySelector('[data-testid="print-button"]')}),e.push({name:"Printable container exists",pass:!!document.querySelector("#printable")}),e.push({name:"Applicant signature area visible",pass:!!document.querySelector('[data-testid="signature-applicant"]')});let t=!!document.querySelector('[data-testid="signature-association"]');e.push({name:"Association signature default hidden",pass:!t}),z(e)},[]),U(()=>{(i.block||i.flatNo||i.areaSqft)&&o(e=>({...e,owners:e.owners.map(t=>({...t,details:`${e.areaSqft?e.areaSqft+" sq ft":""}`.trim(),location:`${e.block?e.block:""} ${e.flatNo}`.trim()}))}))},[i.block,i.flatNo,i.areaSqft]),React.createElement("div",{className:"min-h-screen w-full bg-neutral-100 text-neutral-900"},React.createElement("div",{className:"print:hidden sticky top-0 z-10 border-b bg-white/90 backdrop-blur"},React.createElement("div",{className:"mx-auto max-w-6xl px-4 py-3 flex flex-col items-center gap-3"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("img",{src:"../assets/images/taaowa-logo.jpeg",alt:"THE ACE Logo",className:"h-12 w-12 object-contain"}),React.createElement("div",null,React.createElement("h1",{className:"text-xl font-semibold tracking-tight"},"THE ACE APARTMENT OWNERS WELFARE ASSOCIATION"),React.createElement("p",{className:"text-sm text-gray-600"},"(Reg. No.Chennai South/175/2025. Under TN Apartment Ownership Act 2022)"))),React.createElement("div",{className:"flex gap-2"},React.createElement("a",{href:"https://www.aceapartment.org/",className:"rounded-2xl px-3 py-2 bg-gray-600 text-white shadow hover:shadow-md active:scale-[.99] text-sm"},"\u2190 Back to Home"),React.createElement("button",{onClick:Q,className:"rounded-2xl px-3 py-2 bg-green-600 text-white shadow hover:shadow-md active:scale-[.99] text-sm"},"\u{1F4BE} Save Form"),React.createElement("button",{onClick:()=>F(!q),className:"rounded-2xl px-3 py-2 bg-blue-600 text-white shadow hover:shadow-md active:scale-[.99] text-sm"},"\u{1F4C1} Load Form"),React.createElement("button",{"data-testid":"print-button",onClick:Y,className:"rounded-2xl px-3 py-2 bg-black text-white shadow hover:shadow-md active:scale-[.99] text-sm"},"Save as PDF"),b&&React.createElement("div",{className:"flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-lg text-xs"},React.createElement("span",{className:"animate-pulse"},"\u{1F4BE}"),"Auto-saved")))),React.createElement("div",{className:"mx-auto max-w-6xl grid lg:grid-cols-2 gap-6 p-4"},React.createElement("section",{className:"print:hidden"},React.createElement("div",{className:"rounded-2xl bg-white p-4 shadow-sm"},React.createElement("h2",{className:"text-lg font-semibold"},"Building details"),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium"},"Block"),React.createElement("select",{value:i.block,onChange:e=>u("block",e.target.value),className:"mt-1 w-full rounded-xl border p-2"},React.createElement("option",{value:""},"Select Block"),React.createElement("option",{value:"A"},"A"),React.createElement("option",{value:"B"},"B"),React.createElement("option",{value:"C"},"C"),React.createElement("option",{value:"D"},"D"))),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium"},"Flat No"),React.createElement("input",{value:i.flatNo,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&t.length<=4&&u("flatNo",t)},onBlur:e=>{let t=e.target.value;if(t.length>=3&&t.length<=4){let a=parseInt(t.substring(0,2)),s=parseInt(t.substring(t.length-2));a<1||a>99||s<1||s>99?(e.target.style.borderColor="#ef4444",e.target.style.backgroundColor="#fef2f2",e.target.style.color="#dc2626"):(e.target.style.borderColor="",e.target.style.backgroundColor="",e.target.style.color="")}},onFocus:e=>{e.target.style.borderColor="",e.target.style.backgroundColor="",e.target.style.color=""},className:"mt-1 w-full rounded-xl border p-2 transition-colors duration-200",placeholder:"e.g., 1201 (3-4 digits)",pattern:"[0-9]{3,4}",title:"Enter 3-4 digits. First 2 digits: 1-99, Last 2 digits: 01-99"}),React.createElement("div",{className:"text-xs text-gray-500 mt-1"},"Format: 3-4 digits. First 2 digits (1-99), Last 2 digits (01-99)")),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium"},"Area (sq ft)"),React.createElement("input",{value:i.areaSqft,onChange:e=>u("areaSqft",e.target.value),className:"mt-1 w-full rounded-xl border p-2",placeholder:"e.g., 1222"}))),React.createElement("div",{className:"mt-6"},React.createElement("h3",{className:"font-semibold mb-4"},"Owners / Joint ownership details"),React.createElement("div",{className:"space-y-6"},i.owners.map((e,t)=>React.createElement("div",{key:t,className:"border rounded-xl p-6 bg-white shadow-sm"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h4",{className:"font-medium text-lg text-gray-800"},t===0?"Primary Applicant":`Joint Owner ${t}`),i.owners.length>1&&React.createElement("button",{onClick:()=>J(t),className:"text-red-600 hover:text-red-800 text-sm font-medium"},"Remove")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700"},"Title"),React.createElement("select",{className:"mt-1 w-full rounded-lg border p-3 bg-white",value:e.title||"Mr",onChange:a=>d(t,"title",a.target.value)},React.createElement("option",{value:"Mr"},"Mr"),React.createElement("option",{value:"Mrs"},"Mrs"),React.createElement("option",{value:"Ms"},"Ms"))),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700"},"Full Name"),React.createElement("input",{className:"mt-1 w-full rounded-lg border p-3",value:e.name,onChange:a=>d(t,"name",a.target.value),placeholder:"Enter full name"})),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700"},"Age"),React.createElement("input",{className:"mt-1 w-full rounded-lg border p-3",value:e.age,onChange:a=>d(t,"age",a.target.value),placeholder:"Years",type:"number"})),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700"},"Occupation"),React.createElement("input",{className:"mt-1 w-full rounded-lg border p-3",value:e.occupation,onChange:a=>d(t,"occupation",a.target.value),placeholder:"e.g., Engineer"})),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700"},"Mobile"),React.createElement("input",{className:"mt-1 w-full rounded-lg border p-3",value:e.mobile,onChange:a=>{let s=a.target.value;/^\d*$/.test(s)&&d(t,"mobile",s)},placeholder:"10-digit number",inputMode:"numeric",pattern:"[0-9]*"})),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700"},"Email"),React.createElement("input",{className:"mt-1 w-full rounded-lg border p-3",value:e.email,onChange:a=>d(t,"email",a.target.value),placeholder:"you@example.com",type:"email"}))),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700 mb-2 block"},"Photo"),React.createElement("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center"},React.createElement("input",{type:"file",accept:"image/*",onChange:a=>{let s=a.target.files&&a.target.files[0];if(s){let n=new FileReader;n.onload=p=>{d(t,"photoUrl",p.target.result)},n.readAsDataURL(s)}},className:"hidden",id:`photo-${t}`}),React.createElement("label",{htmlFor:`photo-${t}`,className:"cursor-pointer text-blue-600 hover:text-blue-800 font-medium"},e.photoUrl?"Change Photo":"Upload Photo"),e.photoUrl&&React.createElement("div",{className:"mt-2"},React.createElement("img",{src:e.photoUrl,alt:"Owner Photo",className:"w-20 h-20 object-cover rounded-lg mx-auto"})))),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium text-gray-700 mb-2 block"},"Signature"),React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"space-y-2 relative"},React.createElement("canvas",{"data-owner-index":t,width:300,height:120,className:"w-full h-24 bg-white rounded-lg border cursor-crosshair",style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},onMouseDown:a=>B(a,t),onMouseMove:a=>j(a,t),onMouseUp:a=>D(a,t),onMouseLeave:a=>D(a,t),onTouchStart:a=>B(a,t),onTouchMove:a=>j(a,t),onTouchEnd:a=>D(a,t),onTouchCancel:a=>D(a,t)}),React.createElement("button",{type:"button",onClick:()=>X(t),className:"absolute top-2 right-2 p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Clear signature"},React.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H9a1 1 0 00-1 1v3M4 7h16"})))),React.createElement("div",{className:"space-y-2"},React.createElement("input",{type:"file",accept:"image/*","data-owner-index":t,onChange:a=>{let s=a.target.files&&a.target.files[0];if(s){let n=new FileReader;n.onload=p=>{d(t,"signatureDataUrl",p.target.result)},n.readAsDataURL(s)}},className:"w-full text-sm border rounded-lg p-2"}),e.signatureDataUrl&&React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"text-xs text-green-600"},"\u2713 Signature uploaded"),React.createElement("button",{type:"button",onClick:()=>{d(t,"signatureDataUrl","");let a=document.querySelector(`input[type="file"][data-owner-index="${t}"]`);a&&(a.value="")},className:"text-xs text-red-600 hover:text-red-800"},"Remove"))))))))),React.createElement("div",{className:"mt-6 text-center"},React.createElement("button",{onClick:W,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Add Joint Owner"))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium"},"Admission fee (\u20B9)"),React.createElement("div",{className:"mt-1 w-full rounded-xl border p-2 bg-gray-50 text-gray-700"},"\u20B9",i.admissionFee)),React.createElement("div",null,React.createElement("label",{className:"text-sm font-medium"},"Date"),React.createElement("input",{type:"date",value:i.date,onChange:e=>u("date",e.target.value),className:"mt-1 w-full rounded-xl border p-2"}))),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg"},React.createElement("label",{className:"text-base font-semibold text-red-800 mb-2 block"},"\u{1F3DB}\uFE0F Nomination Statement"),React.createElement("div",{className:"bg-white border border-red-200 rounded-lg p-3 text-gray-800 shadow-sm"},"I, ",React.createElement("select",{value:i.nominatedOwner||"",onChange:e=>u("nominatedOwner",e.target.value),className:"border-none bg-transparent text-red-600 font-semibold focus:outline-none focus:ring-2 focus:ring-red-500 rounded px-1 min-w-[120px]"},React.createElement("option",{value:""},"Select Owner"),i.owners.filter(e=>e.name&&e.name.trim()).map((e,t)=>React.createElement("option",{key:t,value:e.name},e.title," ",e.name))),", nominate myself to be the member of The ACE apartment owners welfare association."),React.createElement("p",{className:"text-xs text-red-600 mt-2 italic"},"This statement is required for membership registration"))),React.createElement("div",{className:"mt-6"},React.createElement("label",{className:"text-sm font-medium"},"Place"),React.createElement("input",{value:i.place,onChange:e=>u("place",e.target.value),className:"mt-1 w-full rounded-xl border p-2",placeholder:"e.g., Chennai"})),React.createElement("div",{className:"mt-6"},React.createElement("label",{className:"text-sm font-medium"},"Main Applicant Signature"),React.createElement("div",{className:"mt-3 space-y-3"},React.createElement("div",{className:"space-y-2 relative"},React.createElement("canvas",{ref:c,width:300,height:120,className:"w-full h-24 bg-white rounded-lg border cursor-crosshair",style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},onMouseDown:L,onMouseMove:I,onMouseUp:M,onMouseLeave:M,onTouchStart:L,onTouchMove:I,onTouchEnd:M,onTouchCancel:M}),React.createElement("button",{type:"button",onClick:H,className:"absolute top-2 right-2 p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"Clear signature"},React.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H9a1 1 0 00-1 1v3M4 7h16"})))),React.createElement("div",{className:"space-y-2"},React.createElement("input",{type:"file",accept:"image/*","data-main-signature":"true",onChange:e=>{let t=e.target.files&&e.target.files[0];if(t){let a=new FileReader;a.onload=s=>{u("signatureDataUrl",s.target.result)},a.readAsDataURL(t)}},className:"w-full text-sm border rounded-lg p-2"}),i.signatureDataUrl&&React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"text-xs text-green-600"},"\u2713 Signature uploaded"),React.createElement("button",{type:"button",onClick:()=>{u("signatureDataUrl","");let e=document.querySelector('input[type="file"][data-main-signature="true"]');e&&(e.value="")},className:"text-xs text-red-600 hover:text-red-800"},"Remove"))))))),React.createElement("section",null,React.createElement("div",{id:"printable",className:"rounded-2xl bg-white p-6 shadow-sm print:shadow-none print:rounded-none"},React.createElement(ae,{data:i,photoUrl:m,showAssociationSignBox:R})))),q&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},React.createElement("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-lg font-semibold"},"Saved Forms"),React.createElement("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700 text-2xl"},"\xD7")),g.length===0?React.createElement("div",{className:"text-center py-8 text-gray-500"},React.createElement("div",{className:"text-4xl mb-2"},"\u{1F4C1}"),React.createElement("p",null,"No saved forms yet."),React.createElement("p",{className:"text-sm"},"Save your current form to see it here.")):React.createElement("div",{className:"space-y-3"},g.map(e=>React.createElement("div",{key:e.id,className:"border rounded-lg p-4 hover:bg-gray-50"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"flex-1"},React.createElement("h4",{className:"font-medium text-gray-900"},e.name),React.createElement("div",{className:"text-sm text-gray-500 mt-1"},React.createElement("span",null,"Created: ",new Date(e.createdAt).toLocaleDateString()),React.createElement("span",{className:"mx-2"},"\u2022"),React.createElement("span",null,"Modified: ",new Date(e.lastModified).toLocaleDateString())),React.createElement("div",{className:"text-xs text-gray-400 mt-1"},e.data.owners[0]?.name?`Primary: ${e.data.owners[0].title} ${e.data.owners[0].name}`:"No primary applicant",e.data.block&&e.data.flatNo&&` \u2022 ${e.data.block}${e.data.flatNo}`)),React.createElement("div",{className:"flex gap-2 ml-4"},React.createElement("button",{onClick:()=>K(e.id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"},"Load"),React.createElement("button",{onClick:()=>Z(e.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors"},"Delete")))))),React.createElement("div",{className:"mt-6 text-center"},React.createElement("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},"Close")))),React.createElement("div",{className:"fixed bottom-4 right-4 z-40 print:hidden"},React.createElement("button",{onClick:()=>k(!A),className:"bg-blue-600 text-white px-4 py-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2",title:"Frequently Asked Questions"},React.createElement("span",{className:"font-medium text-sm"},"FAQ"),React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})))),A&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},React.createElement("div",{className:"bg-white rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto"},React.createElement("div",{className:"flex items-center justify-between mb-6"},React.createElement("h3",{className:"text-2xl font-bold text-gray-800"},"Frequently Asked Questions - Membership Form"),React.createElement("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 text-3xl"},"\xD7")),React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"border-l-4 border-blue-500 pl-4"},React.createElement("h4",{className:"text-lg font-semibold text-gray-800 mb-2"},"Why is the Association Membership Fee Collected at the Time of Registration?"),React.createElement("div",{className:"text-gray-700 space-y-3"},React.createElement("p",null,React.createElement("strong",null,"As per the TAAOWA Bye-laws:")),React.createElement("blockquote",{className:"bg-gray-50 p-3 rounded-lg border-l-4 border-gray-300 italic"},'"Upon the sale/gift/transfer/partition/release/settlement/exchange/sale certificate/attachment/judgement or bequest of an apartment, the purchaser/Title holder of the apartment/flat or the grantee or legatee or the transferee shall automatically become the Member of the Association and shall be admitted as Member on payment of the non-refundable admission fee of \u20B91000/- (Rupees One Thousand only) excluding taxes, to TAAOWA."'),React.createElement("p",null,React.createElement("strong",null,"In Simple Words:")),React.createElement("ul",{className:"list-disc list-inside space-y-1 ml-4"},React.createElement("li",null,"Every flat/apartment must have its owner formally registered with the Association."),React.createElement("li",null,"A one-time, non-refundable admission fee of \u20B91000 (excluding taxes) is mandated by the bye-laws."),React.createElement("li",null,"This ensures that all members are legally admitted into TAAOWA and eligible for their rights (voting, attending GBMs, availing association services).")))),React.createElement("div",{className:"border-l-4 border-green-500 pl-4"},React.createElement("h4",{className:"text-lg font-semibold text-gray-800 mb-2"},"Benefits of Becoming a Registered Member of TAAOWA"),React.createElement("div",{className:"text-gray-700 space-y-3"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},React.createElement("h5",{className:"font-semibold text-blue-800 mb-2"},"1\uFE0F\u20E3 Legal Membership & Voting Rights"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 Official recognition as a member of the Association"),React.createElement("li",null,"\u2022 Voting rights in General Body Meetings (GBMs) and decision-making"))),React.createElement("div",{className:"bg-green-50 p-4 rounded-lg"},React.createElement("h5",{className:"font-semibold text-green-800 mb-2"},"2\uFE0F\u20E3 Representation & Transparency"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 Ability to raise issues, suggest improvements, and influence policies"),React.createElement("li",null,"\u2022 Access to minutes, budgets, and audited accounts for transparency"))),React.createElement("div",{className:"bg-purple-50 p-4 rounded-lg"},React.createElement("h5",{className:"font-semibold text-purple-800 mb-2"},"3\uFE0F\u20E3 Property Value & Reputation"),React.createElement("ul",{className:"text-sm space-y-1"},React.createElement("li",null,"\u2022 Well-managed societies preserve higher property values"),React.createElement("li",null,"\u2022 Buyers prefer apartments with clear governance & records")))))),React.createElement("div",{className:"border-l-4 border-purple-500 pl-4"},React.createElement("h4",{className:"text-lg font-semibold text-gray-800 mb-2"},"Fee Structure & Practices in Associations"),React.createElement("div",{className:"text-gray-700 space-y-3"},React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"bg-yellow-50 p-3 rounded-lg"},React.createElement("h5",{className:"font-semibold text-yellow-800"},"\u{1F539} One-time Admission Fee (like TAAOWA's \u20B91000)"),React.createElement("ul",{className:"text-sm space-y-1 ml-4"},React.createElement("li",null,"\u2022 A standard practice across housing societies"),React.createElement("li",null,"\u2022 Ranges between \u20B9500 \u2013 \u20B95000, depending on size & bye-laws"),React.createElement("li",null,"\u2022 Collected when a flat is first occupied, transferred, or sold"),React.createElement("li",null,"\u2022 Covers legal, administrative & registration costs"))),React.createElement("div",{className:"bg-blue-50 p-3 rounded-lg"},React.createElement("h5",{className:"font-semibold text-blue-800"},"\u{1F539} Annual Subscription / Maintenance"),React.createElement("ul",{className:"text-sm space-y-1 ml-4"},React.createElement("li",null,"\u2022 Separate from admission fee"),React.createElement("li",null,"\u2022 Paid monthly/quarterly for operations: housekeeping, security, utilities"))),React.createElement("div",{className:"bg-green-50 p-3 rounded-lg"},React.createElement("h5",{className:"font-semibold text-green-800"},"\u{1F539} Transfer of Membership"),React.createElement("ul",{className:"text-sm space-y-1 ml-4"},React.createElement("li",null,"\u2022 When a flat is sold/transferred, the new owner pays the admission fee to become a member"),React.createElement("li",null,"\u2022 Old membership automatically ceases"))),React.createElement("div",{className:"bg-purple-50 p-3 rounded-lg"},React.createElement("h5",{className:"font-semibold text-purple-800"},"\u{1F539} Tenants / Lessees"),React.createElement("ul",{className:"text-sm space-y-1 ml-4"},React.createElement("li",null,"\u2022 Tenants are not members; they are registered occupants"),React.createElement("li",null,"\u2022 No voting rights"),React.createElement("li",null,"\u2022 Associations may charge move-in/out fees or refundable deposits for facility use")))))),React.createElement("div",{className:"border-l-4 border-red-500 pl-4"},React.createElement("h4",{className:"text-lg font-semibold text-gray-800 mb-2"},"\u{1F4CB} Important Association Documents"),React.createElement("div",{className:"text-gray-700 space-y-3"},React.createElement("p",null,"Access official TAAOWA documents for complete information:"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200"},React.createElement("h5",{className:"font-semibold text-red-800 mb-2"},"\u{1F3DB}\uFE0F Association Registration Certificate"),React.createElement("p",{className:"text-sm text-gray-600 mb-3"},"Official registration certificate from the government authorities"),React.createElement("a",{href:"../assets/documents/ACE- Association Registration Certificate.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors"},React.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),"View Certificate")),React.createElement("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200"},React.createElement("h5",{className:"font-semibold text-blue-800 mb-2"},"\u{1F4DC} Bye-Laws & Members Signed"),React.createElement("p",{className:"text-sm text-gray-600 mb-3"},"Complete bye-laws document with member signatures"),React.createElement("a",{href:"../assets/documents/Bye laws & Members signed.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"},React.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),"View Bye-Laws"))),React.createElement("div",{className:"bg-gray-50 p-3 rounded-lg"},React.createElement("p",{className:"text-sm text-gray-600"},React.createElement("strong",null,"Note:")," These documents contain the official rules and regulations that govern TAAOWA. All members are expected to follow these bye-laws and understand their rights and responsibilities."))))),React.createElement("div",{className:"mt-6 text-center"},React.createElement("button",{onClick:()=>k(!1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Close")))),React.createElement("style",null,`
            @page { 
                size: A4; 
                margin: 16mm;
                @top-center { content: ""; }
                @top-left { content: ""; }
                @top-right { content: ""; }
                @bottom-center { content: ""; }
                @bottom-left { content: ""; }
                @bottom-right { content: ""; }
            }
            @media print {
                body { background: white; }
                .print\\:hidden { display: none !important; }
                #printable { box-shadow: none !important; }
                @page { 
                    margin-top: 0;
                    margin-bottom: 0;
                }
            }
        `))}function E({label:i,children:o}){return React.createElement("div",{className:"grid grid-cols-12 gap-2 items-start"},React.createElement("div",{className:"col-span-4 md:col-span-3 text-sm font-medium text-neutral-700"},i),React.createElement("div",{className:"col-span-8 md:col-span-9"},o))}function $({children:i}){return React.createElement("div",{className:"min-h-8 border-b border-dashed pb-1"},i)}var ae=React.memo(function({data:o,photoUrl:R,showAssociationSignBox:P}){let A=ee(()=>new Date().toLocaleDateString(),[]),k=!!o.signatureDataUrl;return React.createElement("div",{className:"space-y-5"},React.createElement("div",{className:"text-center border-b pb-4"},React.createElement("div",{className:"flex items-center justify-center gap-4 mb-3"},React.createElement("img",{src:"../assets/images/taaowa-logo.jpeg",alt:"THE ACE Logo",className:"h-16 w-16 object-contain"})),React.createElement("h1",{className:"text-2xl font-bold text-gray-800"},"THE ACE APARTMENT OWNERS WELFARE ASSOCIATION"),React.createElement("p",{className:"text-sm text-gray-600 mt-1"},"(Reg. No.Chennai South/175/2025. Under TN Apartment Ownership Act 2022)")),React.createElement("div",null,React.createElement("div",null,"To,"),React.createElement("div",{className:"font-medium"},"The President / Secretary"),React.createElement("div",{className:"text-sm"},o.buildingName," Apartment Owners Welfare Association"),React.createElement("div",{className:"text-sm"},o.addressLine)),React.createElement("div",{className:"text-sm leading-6"},"I, ",o.owners[0]?.title||"Mr"," ",React.createElement("span",{className:"font-medium"},o.owners[0]?.name||"__________")," hereby make an application for membership of the ",o.buildingName," Apartment Owners Welfare Association."),React.createElement("div",null,React.createElement("div",{className:"font-semibold"},"Owners / Joint ownership details"),React.createElement("table",{className:"mt-2 w-full text-sm"},React.createElement("thead",null,React.createElement("tr",{className:"border-b"},React.createElement("th",{className:"text-center py-1 pr-2"},"Sr. No."),React.createElement("th",{className:"text-center py-1 pr-2"},"Name"),React.createElement("th",{className:"text-center py-1 pr-2"},"Age"),React.createElement("th",{className:"text-center py-1 pr-2"},"Occupation"),React.createElement("th",{className:"text-center py-1 pr-2"},"Mobile"),React.createElement("th",{className:"text-center py-1 pr-2"},"Email"),React.createElement("th",{className:"text-center py-1 pr-2"},"Flat No."),React.createElement("th",{className:"text-center py-1 pr-2"},"Area"))),React.createElement("tbody",null,(()=>{let r=[];for(let m=0;m<3;m++){let l=o.owners[m]||{name:"",title:"",age:"",occupation:"",mobile:"",email:"",details:"",location:"",memberInJoint:"Yes"};r.push(React.createElement("tr",{key:m,className:"border-b last:border-b-0 align-top"},React.createElement("td",{className:"py-1 pr-2"},m+1),React.createElement("td",{className:"py-1 pr-2"},l.name&&l.name.trim()?`${l.title||""} ${l.name}`.trim():""),React.createElement("td",{className:"py-1 pr-2"},l.age||""),React.createElement("td",{className:"py-1 pr-2"},l.occupation||""),React.createElement("td",{className:"py-1 pr-2"},l.mobile||""),React.createElement("td",{className:"py-1 pr-2"},l.email||""),React.createElement("td",{className:"py-1 pr-2"},l.name&&l.name.trim()?`${o.block&&` ${o.block}`} ${o.flatNo}`:""),React.createElement("td",{className:"py-1 pr-2"},l.name&&l.name.trim()?`${o.areaSqft&&`${o.areaSqft} sq ft`}`:"")))}return r})()))),React.createElement("div",{className:"space-y-2 text-sm leading-6"},React.createElement("p",null,"I remit herewith a sum of \u20B9 ",o.admissionFee||"_____"," (excluding tax) for admission entrance fee to the Association. I undertake to discharge all the present and future liabilities to the Association."),React.createElement("p",null,"I undertake to use the flat for the purpose for which it is purchased by me/us and that any change of use like renting it out will be made with intimation to the Association. I agree that the rules of the Association will be followed by me."),React.createElement("p",null,"I have gone through the registered Bye-law of the Association and undertake to abide by the same and any modifications from time to time."),React.createElement("p",null,"I declare that the said acquiring of flat is duly registered under Tamilnadu registration rules and relevant stamp duty paid.")),React.createElement("div",{className:"grid grid-cols-12 gap-4 mt-4"},React.createElement("div",{className:"col-span-12"},React.createElement("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg"},React.createElement("div",{className:"font-semibold text-red-800 mb-2"},"\u{1F3DB}\uFE0F Nomination Statement"),React.createElement("div",{className:"bg-white border border-red-200 rounded-lg p-3 text-gray-800"},"I, ",React.createElement("span",{className:"font-semibold text-red-600"},o.nominatedOwner||"__________"),", nominate myself to be the member of The ACE apartment owners welfare association.")))),React.createElement("div",{className:"grid grid-cols-12 gap-4 mt-2"},React.createElement("div",{className:"col-span-6"},React.createElement(E,{label:"Place"},React.createElement($,null,o.place)))),React.createElement("div",{className:"grid grid-cols-12 gap-4 mt-2"},React.createElement("div",{className:"col-span-6"},React.createElement(E,{label:"Date"},React.createElement($,null,o.date||A," ",new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))))),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"mt-12"},React.createElement("div",{className:"font-semibold mb-4"},"Photos and Signatures"),React.createElement("div",{className:"flex flex-wrap gap-8 mb-6"},React.createElement("div",{className:"text-left","data-testid":"signature-applicant"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"aspect-[3/4] w-32 border flex items-center justify-center text-xs text-neutral-500"},o.owners[0]?.photoUrl?React.createElement("img",{src:o.owners[0].photoUrl,alt:"Applicant",className:"h-full w-full object-cover"}):"Photo"),React.createElement("div",{className:"h-20 w-48 flex items-center justify-center border-b border-neutral-800"},o.owners[0]?.signatureDataUrl?React.createElement("img",{src:o.owners[0].signatureDataUrl,alt:"Signature",className:"max-h-16 max-w-full object-contain",style:{width:"auto",height:"auto"}}):o.owners[0]?.canvasSignatureUrl?React.createElement("img",{src:o.owners[0].canvasSignatureUrl,alt:"Canvas Signature",className:"max-h-16 max-w-full object-contain",style:{width:"auto",height:"auto"}}):null)),React.createElement("div",{className:"text-sm mt-1"},"(Signature of the Applicant)"),o.owners[0]?.name&&React.createElement("div",{className:"text-sm mt-1 font-medium"},o.owners[0]?.title||"Mr"," ",o.owners[0].name)),o.signatureDataUrl||o.canvasSignatureUrl?React.createElement("div",{className:"text-left"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"h-20 w-48 flex items-center justify-center border-b border-neutral-800"},o.signatureDataUrl?React.createElement("img",{src:o.signatureDataUrl,alt:"Main Applicant Signature",className:"max-h-16 max-w-full object-contain",style:{width:"auto",height:"auto"}}):o.canvasSignatureUrl?React.createElement("img",{src:o.canvasSignatureUrl,alt:"Main Applicant Canvas Signature",className:"max-h-16 max-w-full object-contain",style:{width:"auto",height:"auto"}}):null)),React.createElement("div",{className:"text-sm mt-1"},"(Main Applicant Signature)")):null,o.owners.slice(1).filter(r=>r.name&&r.name.trim()).map((r,m)=>React.createElement("div",{key:m,className:"text-left"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"aspect-[3/4] w-32 border flex items-center justify-center text-xs text-neutral-500"},r.photoUrl?React.createElement("img",{src:r.photoUrl,alt:`${r.title} ${r.name}`,className:"h-full w-full object-cover"}):"Photo"),React.createElement("div",{className:"h-20 w-48 flex items-center justify-center border-b border-neutral-800"},r.signatureDataUrl?React.createElement("img",{src:r.signatureDataUrl,alt:"Owner Signature",className:"max-h-16 max-w-full object-contain",style:{width:"auto",height:"auto"}}):r.canvasSignatureUrl?React.createElement("img",{src:r.canvasSignatureUrl,alt:"Canvas Signature",className:"max-h-16 max-w-full object-contain",style:{width:"auto",height:"auto"}}):null)),React.createElement("div",{className:"text-sm mt-1"},"(Signature of Joint Owner ",m+1,")"),React.createElement("div",{className:"text-sm mt-1 font-medium"},r.title," ",r.name))),P&&React.createElement("div",{className:"text-left","data-testid":"signature-association"},React.createElement("div",{className:"h-20 w-48 border-b border-neutral-800"}),React.createElement("div",{className:"text-sm mt-1"},"(Signature with Seal \u2013 Association Official)")))),React.createElement("div",{className:"text-sm text-neutral-600 mt-6"},"(For Office use) Membership No. ____________ \u2022 Receipt No. ____________"),o.jointUndertaking&&o.jointUndertaking.trim()&&React.createElement("div",{className:"mt-8 border-t pt-4"},React.createElement("div",{className:"text-center text-xs"},"[Under the Bye-law No. 9(f)]"),React.createElement("div",{className:"text-center font-semibold"},"Undertaking (Joint Ownership)"),React.createElement("div",{className:"whitespace-pre-wrap text-sm mt-2 leading-6"},o.jointUndertaking)))}),se=ReactDOM.createRoot(document.getElementById("root"));se.render(React.createElement(te,null));})();
